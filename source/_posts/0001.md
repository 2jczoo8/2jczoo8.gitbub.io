---
title: 有趣数学题1
date: 2024-0
toc: true
category: [做题记录]
mathjax: true
---

晚上睡不着刷知乎，突然给我推送了这个问题，有人邀请我回答。

我看了看，小东西挺别致，给他做了。

下图是问题：

![](https://s2.loli.net/2024/08/30/zvEdq85a2Nwp3lP.jpg)

以下是我的解答：

首先 $n=2$ 时显然合法。探索若最大值大于 $2$ 时的性质。

先规定符号：

任选三组人记为 $S_1,S_2,S_3$，记数列 $x_1,x_2,x_3$ 分别表示在上述3个集合中任选1个，2个，3个集合的交集大小的和。

$Lemma 1.$ 此时任意两组人所组成的集合交集必定为2。

证明：

易知 $x_1=18$

假设 $S_1 \cap S_2 = \emptyset$。

$\Rightarrow S_1 \cup S_2 = U$

$\Rightarrow S_1 \cup S_2 \cup S_3 = U$

同时 $x_3 = 0$

此时三元容斥得 $x_1 - x_2 + x_3 = U$

带入数据得 $x_2=6$

$\Rightarrow |S_1 \cap S_2| + |S_1 \cap S_3| + |S_2 \cap S_3|=6$

$\Rightarrow |S_1 \cap S_3| + |S_2 \cap S_3|=6$

$\Rightarrow \min (|S_1 \cap S_3| , |S_2 \cap S_3|) \ge 3$

故假设不成立。同上易得 $|S_1 \cap S_2|=1$ 也不合法。证毕。

$Lemma 2.$ 此时任意三组人交集为空集，任意三组并集为全集

由 $Lemma 1$ 和三元容斥易得 $18 - 6 + x_3 = |S_1 \cup S_2 \cup S_3|$

又因为 $x_3 \ge 0$ $\Rightarrow |S_1 \cup S_2 \cup S_3| \ge 12$

同时 $\Rightarrow |S_1 \cup S_2 \cup S_3| \le 12$

$\Rightarrow |S_1 \cup S_2 \cup S_3| = 12$

$\Rightarrow x_3 = 0$ 证毕。

现在来证明 $n$ 一定小于 5。

若 $n \ge 5$，任选5组人记为 $S_1,S_2,S_3,S_4,S_5$，记数列 $x_1,x_2,x_3,x_4,x_5$ 分别表示在上述5个集合中任选1个，2个，3个，4个，5个集合的交集大小的和。

容斥原理和上述引理易得 $x_1-x_2+x_3-x_4+x_5=12$

化简并代入数据 $x_5-x_4 = 12$ 等式显然不成立。证毕。

此时给出一组 $n=4$ 的构造，

$1,2,3,4,5,6$

$1,2,7,8,9,10$

$3,4,7,8,11,12$

$5,6,9,10,11,12$

故n的最大值为4。
